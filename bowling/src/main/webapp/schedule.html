<!doctype html>
<html class="no-js" lang="en">

<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Index</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- favicon
		============================================ -->
<link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
<!-- Google Fonts
		============================================ -->
<link
	href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,700,900"
	rel="stylesheet">
<!-- Bootstrap CSS
		============================================ -->
<link rel="stylesheet" href="css/bootstrap.min.css">
<!-- Bootstrap CSS
		============================================ -->
<link rel="stylesheet" href="css/font-awesome.min.css">
<!-- owl.carousel CSS
		============================================ -->
<link rel="stylesheet" href="css/owl.carousel.css">
<link rel="stylesheet" href="css/owl.theme.css">
<link rel="stylesheet" href="css/owl.transitions.css">
<!-- animate CSS
		============================================ -->
<link rel="stylesheet" href="css/animate.css">
<!-- normalize CSS
		============================================ -->
<link rel="stylesheet" href="css/normalize.css">
<!-- meanmenu icon CSS
		============================================ -->
<link rel="stylesheet" href="css/meanmenu.min.css">
<!-- main CSS
		============================================ -->
<link rel="stylesheet" href="css/main.css">
<!-- educate icon CSS
		============================================ -->
<link rel="stylesheet" href="css/educate-custon-icon.css">
<!-- morrisjs CSS
		============================================ -->
<link rel="stylesheet" href="css/morrisjs/morris.css">
<!-- mCustomScrollbar CSS
		============================================ -->
<link rel="stylesheet"
	href="css/scrollbar/jquery.mCustomScrollbar.min.css">
<!-- metisMenu CSS
		============================================ -->
<link rel="stylesheet" href="css/metisMenu/metisMenu.min.css">
<link rel="stylesheet" href="css/metisMenu/metisMenu-vertical.css">
<!-- calendar CSS
		============================================ -->
<link rel="stylesheet" href="css/calendar/fullcalendar.min.css">
<link rel="stylesheet" href="css/calendar/fullcalendar.print.min.css">
<!-- style CSS
		============================================ -->
<link rel="stylesheet" href="style.css">
<!-- responsive CSS
		============================================ -->
<link rel="stylesheet" href="css/responsive.css">
<!-- modernizr JS
		============================================ -->
<script src="js/vendor/modernizr-2.8.3.min.js"></script>
<style type="text/css">
.cal_top{
    text-align: center;
    font-size: 30px;
}
.cal{
    text-align: center;    
}
table.calendar{
    border: 1px solid black;
    display: inline-table;
    text-align: left;
}
table.calendar td{
    vertical-align: top;
    border: 1px solid skyblue;
    width: 100px;
}
</style>
</head>

<body>
	<!-- Start Left menu area -->
	<div class="left-sidebar-pro">
		<nav id="sidebar" class="">
			<div class="sidebar-header">
				<a href="index.html"><img class="main-logo"
					src="img/logo/logo.png" alt="" /></a> <strong><a
					href="index.html"><img src="img/logo/logosn.png" alt="" /></a></strong>
			</div>
			<div class="left-custom-menu-adp-wrap comment-scrollbar">
				<nav class="sidebar-nav left-sidebar-menu-pro">
					<ul class="metismenu" id="menu1">
						<li><a href="index.html" aria-expanded="false"> <span
								class="educate-icon educate-home icon-wrap"></span> <span
								class="mini-click-non">홈</span>
						</a></li>
						
						 <li>
                            <a href="all-courses.html" aria-expanded="false"><span class="educate-icon educate-library icon-wrap"></span> <span class="mini-click-non">뉴스</span></a>
                        </li>
						
						<li>
                            <a class="has-arrow" href="mailbox.html" aria-expanded="false"><span class="educate-icon educate-data-table icon-wrap"></span> <span class="mini-click-non">정보</span></a>
                            <ul class="submenu-angle" aria-expanded="false">
                                <li><a title="Peity Charts" href="static-table.html"><span class="mini-sub-pro">팀정보</span></a></li>
                                <li><a title="Data Table" href="data-table.html"><span class="mini-sub-pro">선수정보</span></a></li>
                            </ul>
                        </li>
						
						<li>
                            <a class="has-arrow" href="all-students.html" aria-expanded="false"><span class="educate-icon educate-student icon-wrap"></span> <span class="mini-click-non">기록/순위</span></a>
                            <ul class="submenu-angle" aria-expanded="false">
                                <li><a title="All Students" href="all-students.html"><span class="mini-sub-pro">팀 기록</span></a></li>
                                <li><a title="Add Students" href="add-student.html"><span class="mini-sub-pro">팀 순위</span></a></li>
                                <li><a title="Edit Students" href="edit-student.html"><span class="mini-sub-pro">선수 기록</span></a></li>
                                <li><a title="Students Profile" href="student-profile.html"><span class="mini-sub-pro">선수 순위</span></a></li>
                            </ul>
                        </li>
						
						<li>
                            <a href="events.html" aria-expanded="false"><span class="educate-icon educate-event icon-wrap sub-icon-mg" aria-hidden="true"></span> <span class="mini-click-non">일정/결과</span></a>
                        </li>
						
						<li>
                            <a  href="mailbox.html" aria-expanded="false"><span class="educate-icon educate-charts icon-wrap"></span> <span class="mini-click-non">통계</span></a>
                        </li>

					</ul>
				</nav>
			</div>
		</nav>
	</div>
	<!-- End Left menu area -->
	<!-- Start Welcome area -->
	<div class="all-content-wrapper">
		<div class="container-fluid">
			<div class="row">
				<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
					<div class="logo-pro">
						<a href="index.html"><img class="main-logo"
							src="img/logo/logo.png" alt="" /></a>
					</div>
				</div>
			</div>
		</div>
		<div class="header-advance-area">
			<div class="header-top-area">
				<div class="container-fluid">
					<div class="row">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							<div class="header-top-wraper">
								<div class="row">

									<div class="col-lg-6 col-md-7 col-sm-6 col-xs-12">
										<div class="header-top-menu tabl-d-n">
											<ul class="nav navbar-nav mai-top-nav">
												<li class="nav-item"><a href="#" class="nav-link">뉴스</a>
												</li>
												
												<li class="nav-item dropdown res-dis-nn">
                                                    <a href="#" data-toggle="dropdown" role="button" aria-expanded="false" class="nav-link dropdown-toggle">정보 <span class="angle-down-topmenu"><i class="fa fa-angle-down"></i></span></a>
                                                    <div role="menu" class="dropdown-menu animated zoomIn">
                                                        <a href="#" class="dropdown-item">팀 정보</a>
                                                        <a href="#" class="dropdown-item">선수 정보</a>
                                                    </div>
                                                </li>
												
												<li class="nav-item dropdown res-dis-nn">
                                                    <a href="#" data-toggle="dropdown" role="button" aria-expanded="false" class="nav-link dropdown-toggle">기록/순위 <span class="angle-down-topmenu"><i class="fa fa-angle-down"></i></span></a>
                                                    <div role="menu" class="dropdown-menu animated zoomIn">
                                                        <a href="#" class="dropdown-item">팀 기록</a>
                                                        <a href="#" class="dropdown-item">팀 순위</a>
                                                        <a href="#" class="dropdown-item">선수 기록</a>
                                                        <a href="#" class="dropdown-item">선수 순위</a>
                                                    </div>
                                                </li>
												<li class="nav-item"><a href="#" class="nav-link">일정/결과</a>
												
												<li class="nav-item"><a href="#" class="nav-link">통계</a>
												</li>
											</ul>
										</div>
									</div>
									<div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
										<div class="header-right-info">
											<ul class="nav navbar-nav mai-top-nav header-right-menu">
												<li class="nav-item"><a href="#" aria-expanded="false"
													class="nav-link dropdown-toggle"> <span
														class="admin-name">Prof.Anderson</span>
												</a></li>
											</ul>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- 화면에서 나오는 페이지 -->
		<div>

			<h1>스캐줄</h1>
			<!-- <ol>
				<li><a href="report/addReport.html">add report</a> <!-- Index.html 생성  -->
				</li>
			</ol>	
			<button id="listShow" type="button" class="btn btn-primary">일정 리스트</button>
			<button id="calenderShow" type="button" class="btn btn-primary">달력</button>
			<!-- 리스트 테이블 출력 -->
			<div id="scheduleTable">
				<table border='1'>
					<thead>
						<tr>
							<th>날짜</th>
							<th>홈팀</th>
							<th>홈 점수</th>
							<th>홈 결과</th>
							<th>Away 점수</th>
							<th>Away 팀</th>
							<th>Away 결과</th>
						</tr>
					</thead>
					<tbody id="scheduleList">
					</tbody>
				</table>
				<button id="prev">이전</button>
				<button id="next">다음</button>
			</div>
			<!-- 전광판 테이블 -->
			<table id="scoreBoard" border='1'>
				<thead>
					<tr>
				         <th class="backslash"><div>프레임</div>이름</th>
				         <th colspan="2" style="width:60px">1</th>
				         <th colspan="2" style="width:60px">2</th>
				         <th colspan="2" style="width:60px">3</th>
				         <th colspan="2" style="width:60px">4</th>
				         <th colspan="2" style="width:60px">5</th>
				         <th colspan="2" style="width:60px">6</th>
				         <th colspan="2" style="width:60px">7</th>
				         <th colspan="2" style="width:60px">8</th>
				         <th colspan="2" style="width:60px">9</th>
				         <th colspan="3" style="width:60px">10</th>
				         <th id="totalScore">총 점수</th>
					</tr>
				</thead>
				<tbody id="board">
					<tr id="fTurn"></tr>
					<tr id="fFrame"></tr>
					<tr id="sTurn"></tr>
					<tr id="sFrame"></tr>
				</tbody>
			</table>
			<br>
						 <!--  달력 -->
			<div id="calender" class="calender-area mg-b-15">
	            <div class="container-fluid">
	                <div class="row">
	                    <div class="col-lg-12">
	                        <div class="calender-inner">
	                            <div id='calendar'></div>
	                        </div>
	                    </div>
	                </div>
	            </div>
      	  </div>
			    
		</div>

		<div class="footer-copyright-area">
			<div class="container-fluid">
				<div class="row">
					<div class="col-lg-12">
						<div class="footer-copy-right">
							<p>
								Copyright © 2018. All rights reserved. Template by <a
									href="https://colorlib.com/wp/templates/">Colorlib</a>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- jquery
		============================================ -->
	<script src="js/vendor/jquery-1.12.4.min.js"></script>
	<!-- bootstrap JS
		============================================ -->
	<script src="js/bootstrap.min.js"></script>
	<!-- wow JS
		============================================ -->
	<script src="js/wow.min.js"></script>
	<!-- price-slider JS
		============================================ -->
	<script src="js/jquery-price-slider.js"></script>
	<!-- meanmenu JS
		============================================ -->
	<script src="js/jquery.meanmenu.js"></script>
	<!-- owl.carousel JS
		============================================ -->
	<script src="js/owl.carousel.min.js"></script>
	<!-- sticky JS
		============================================ -->
	<script src="js/jquery.sticky.js"></script>
	<!-- scrollUp JS
		============================================ -->
	<script src="js/jquery.scrollUp.min.js"></script>
	<!-- counterup JS
		============================================ -->
	<script src="js/counterup/jquery.counterup.min.js"></script>
	<script src="js/counterup/waypoints.min.js"></script>
	<script src="js/counterup/counterup-active.js"></script>
	<!-- mCustomScrollbar JS
		============================================ -->
	<script src="js/scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
	<script src="js/scrollbar/mCustomScrollbar-active.js"></script>
	<!-- metisMenu JS
		============================================ -->
	<script src="js/metisMenu/metisMenu.min.js"></script>
	<script src="js/metisMenu/metisMenu-active.js"></script>
	<!-- morrisjs JS
		============================================ -->
	<script src="js/morrisjs/raphael-min.js"></script>
	<script src="js/morrisjs/morris.js"></script>
	<script src="js/morrisjs/morris-active.js"></script>
	<!-- morrisjs JS
		============================================ -->
	<script src="js/sparkline/jquery.sparkline.min.js"></script>
	<script src="js/sparkline/jquery.charts-sparkline.js"></script>
	<script src="js/sparkline/sparkline-active.js"></script>
	<!-- calendar JS
		============================================ -->
	<script src="js/calendar/moment.min.js"></script>
	<script src="js/calendar/fullcalendar.min.js"></script>
	<script src="js/calendar/fullcalendar-active.js"></script>
	<!-- plugins JS
		============================================ -->
	<script src="js/plugins.js"></script>
	<!-- main JS
		============================================ -->
	<script src="js/main.js"></script>

</body>
<script>
//페이지 
$(document).ready(function(){
	//달력, 전광판 숨기기
	$("#scheduleTable").hide();
	$("#scoreBoard").hide();
	//달력 보여주기 버튼
	$("#calenderShow").click(function(){
		$("#calender").show();
		//일정 리스트 숨김
		$("#scheduleTable").hide();
		$("#scoreBoard").hide();
	})
	//리스트 출력 버튼
	$("#listShow").click(function(){
		$("#scheduleList").empty();
		//달력 숨김,전광판 숨김
		$("#calender").hide();
		$("#scoreBoard").hide();
		//일정 리스트 보여준다
		$("#scheduleTable").show();
		let currentPage=1;
		let gameNo=0;
		//일정 리스트 출력
		$.ajax({
			url:"/schedulePage",
			method:"post",
			data:{"currentPage":currentPage},
			success:function(json){
				
				console.log(json);
				$(json).each(function(index,item){
				$("#scheduleList").append(
						"<tr>"
						+"<td id='"+item.gameNo+"' class='game'><a>"+item.gameDate+"</a></td>"
						+"<td>"+item.hteamName+"</td>"
						+"<td>"+item.hteamScore+"</td>"
						+"<td>"+item.hteamResult+"</td>"
						+"<td>"+item.ateamScore+"</td>"
						+"<td>"+item.ateamName+"</td>"
						+"<td>"+item.ateamResult+"</td>"
						+"</tr>"
						);
				});
				
				$("#prev").click(function(){
					$("#scheduleList").empty();
					currentPage-=1;
					$.ajax({
						url:"/schedulePage",
						method:"post",
						data:{"currentPage":currentPage},
						success:function(json){
							
							console.log(json);
							$(json).each(function(index,item){
							$("#scheduleList").append(
									"<tr>"
									+"<td id='"+item.gameNo+"' class='game'><a>"+item.gameDate+"</a></td>"
									+"<td>"+item.hteamName+"</td>"
									+"<td>"+item.hteamScore+"</td>"
									+"<td>"+item.hteamResult+"</td>"
									+"<td>"+item.ateamScore+"</td>"
									+"<td>"+item.ateamName+"</td>"
									+"<td>"+item.ateamResult+"</td>"
									+"</tr>"
									);
							});
							$(".game").click(function(){
								$("#scheduleTable").hide();
								$("#scoreBoard").show();
								//리스트중 날짜 클릭시 id값으로 gameNo값을 받는다
								gameNo = $(this).attr("id");
								console.log(gameNo);
								//날짜 클릭시 gameNo값을 받아 ajax로 넘긴다.
									$.ajax({
										url:"/scheduleOne",
										method:"post",
										data:{"gameNo":gameNo},
										success:function(json){
											$("#fTurn").empty();
											$("#fFrame").empty();
											$("#sTurn").empty();
											$("#sFrame").empty();
											//해당 게임 넘버에 상세기록 출력
											console.log(json);
											//frame 합
											let fFrameSum=0;
											let sFrameSum=0;
											$("#fTurn").append("<td rowspan='2' id='homeTeamPlayer'>"+json[0].playerName+"</td>");
											$("#sTurn").append("<td rowspan='2' id='awayTeamPlayer'>"+json[json.length-1].playerName+"</td>");
											$(json).each(function(index,item){
													if(item.playerName==json[0].playerName){ 
														//hometeam일때
														if(item.turn=="point"){//turn 1,2일때 값만 출력
															console.log("hF:",item.turn,item.score);
															fFrameSum += item.score;
															console.log("f합계",fFrameSum);
															$("#fFrame").append("<td colspan='2'>"+item.score+"</td>");	
														}else{
															console.log("hT",item.turn);
															$("#fTurn").append("<td>"+item.score+"</td>");
														}	
													}else{
														//awayteam
														if(item.turn=="point"){//turn 1,2일때 값만 출력
															console.log("aF:",item.turn,item.score);
															sFrameSum += item.score;
															console.log("s합계",sFrameSum);
															$("#sFrame").append("<td colspan='2'>"+item.score+"</td>");	
														}else{
															console.log("aT",item.turn);
															$("#sTurn").append("<td>"+item.score+"</td>");
														}	
													}
													
											})//반복 
											console.log("fram 합계 H:",fFrameSum,",A:",sFrameSum);
											$("#fTurn").append("<td rowspan='2'>"+fFrameSum+"</td>");
											$("#sTurn").append("<td rowspan='2'>"+sFrameSum+"</td>");
										}//success
									});//ajax
							})//date click
						}
					});	
				});
				$("#next").click(function(){
					$("#scheduleList").empty();
					currentPage+=1;
					$.ajax({
						url:"/schedulePage",
						method:"post",
						data:{"currentPage":currentPage},
						success:function(json){
							
							console.log(json);
							$(json).each(function(index,item){
							$("#scheduleList").append(
									"<tr>"
									+"<td id='"+item.gameNo+"' class='game'><a>"+item.gameDate+"</a></td>"
									+"<td>"+item.hteamName+"</td>"
									+"<td>"+item.hteamScore+"</td>"
									+"<td>"+item.hteamResult+"</td>"
									+"<td>"+item.ateamScore+"</td>"
									+"<td>"+item.ateamName+"</td>"
									+"<td>"+item.ateamResult+"</td>"
									+"</tr>"
									);
							});
							$(".game").click(function(){
								$("#scheduleTable").hide();
								$("#scoreBoard").show();
								//리스트중 날짜 클릭시 id값으로 gameNo값을 받는다
								gameNo = $(this).attr("id");
								console.log(gameNo);
								//날짜 클릭시 gameNo값을 받아 ajax로 넘긴다.
									$.ajax({
										url:"/scheduleOne",
										method:"post",
										data:{"gameNo":gameNo},
										success:function(json){
											$("#fTurn").empty();
											$("#fFrame").empty();
											$("#sTurn").empty();
											$("#sFrame").empty();
											//해당 게임 넘버에 상세기록 출력
											console.log(json);
											//frame 합
											let fFrameSum=0;
											let sFrameSum=0;
											$("#fTurn").append("<td rowspan='2' id='homeTeamPlayer'>"+json[0].playerName+"</td>");
											$("#sTurn").append("<td rowspan='2' id='awayTeamPlayer'>"+json[json.length-1].playerName+"</td>");
											$(json).each(function(index,item){
													if(item.playerName==json[0].playerName){ 
														//hometeam일때
														if(item.turn=="point"){//turn 1,2일때 값만 출력
															console.log("hF:",item.turn,item.score);
															fFrameSum += item.score;
															console.log("f합계",fFrameSum);
															$("#fFrame").append("<td colspan='2'>"+item.score+"</td>");	
														}else{
															console.log("hT",item.turn);
															$("#fTurn").append("<td>"+item.score+"</td>");
														}	
													}else{
														//awayteam
														if(item.turn=="point"){//turn 1,2일때 값만 출력
															console.log("aF:",item.turn,item.score);
															sFrameSum += item.score;
															console.log("s합계",sFrameSum);
															$("#sFrame").append("<td colspan='2'>"+item.score+"</td>");	
														}else{
															console.log("aT",item.turn);
															$("#sTurn").append("<td>"+item.score+"</td>");
														}	
													}
													
											})//반복 
											console.log("fram 합계 H:",fFrameSum,",A:",sFrameSum);
											$("#fTurn").append("<td rowspan='2'>"+fFrameSum+"</td>");
											$("#sTurn").append("<td rowspan='2'>"+sFrameSum+"</td>");
										}//success
									});//ajax
							})//date click
						}
					});
				})
				$(".game").click(function(){
					$("#scheduleTable").hide();
					$("#scoreBoard").show();
					//리스트중 날짜 클릭시 id값으로 gameNo값을 받는다
					gameNo = $(this).attr("id");
					console.log(gameNo);
					//날짜 클릭시 gameNo값을 받아 ajax로 넘긴다.
						$.ajax({
							url:"/scheduleOne",
							method:"post",
							data:{"gameNo":gameNo},
							success:function(json){
								$("#fTurn").empty();
								$("#fFrame").empty();
								$("#sTurn").empty();
								$("#sFrame").empty();
								//해당 게임 넘버에 상세기록 출력
								console.log(json);
								//frame 합
								let fFrameSum=0;
								let sFrameSum=0;
								$("#fTurn").append("<td rowspan='2' id='homeTeamPlayer'>"+json[0].playerName+"</td>");
								$("#sTurn").append("<td rowspan='2' id='awayTeamPlayer'>"+json[json.length-1].playerName+"</td>");
								$(json).each(function(index,item){
										if(item.playerName==json[0].playerName){ 
											//hometeam일때
											if(item.turn=="point"){//turn 1,2일때 값만 출력
												console.log("hF:",item.turn,item.score);
												fFrameSum += item.score;
												console.log("f합계",fFrameSum);
												$("#fFrame").append("<td colspan='2'>"+item.score+"</td>");	
											}else{
												console.log("hT",item.turn);
												$("#fTurn").append("<td>"+item.score+"</td>");
											}	
										}else{
											//awayteam
											if(item.turn=="point"){//turn 1,2일때 값만 출력
												console.log("aF:",item.turn,item.score);
												sFrameSum += item.score;
												console.log("s합계",sFrameSum);
												$("#sFrame").append("<td colspan='2'>"+item.score+"</td>");	
											}else{
												console.log("aT",item.turn);
												$("#sTurn").append("<td>"+item.score+"</td>");
											}	
										}
										
								})//반복 
								console.log("fram 합계 H:",fFrameSum,",A:",sFrameSum);
								$("#fTurn").append("<td rowspan='2'>"+fFrameSum+"</td>");
								$("#sTurn").append("<td rowspan='2'>"+sFrameSum+"</td>");
							}//success
						});//ajax
				})//date click
			}//list success
		});
	})
	
	
})
</script>
</html>