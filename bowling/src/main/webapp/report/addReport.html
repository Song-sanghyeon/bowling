<!doctype html>
<html class="no-js" lang="en">

<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>ADD Report</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
	#board {
      text-align:center;
      width:700px;
      height:200px;
   }
   .backslash {
      background: url('http://cdn.zetawiki.com/png/backslash.png');
      background-size: 100% 100%;
      text-align: left;
      font-size:10px;
      width:100px;
   }
   .backslash div {text-align: right;}
   #totalScore {
   	  width:100px;
   }
</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="/scripts/addReport.js"></script>


<!-- favicon
		============================================ -->
<link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico">
<!-- Google Fonts
		============================================ -->
<link
	href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,700,900"
	rel="stylesheet">
<!-- Bootstrap CSS
		============================================ -->
<link rel="stylesheet" href="/css/bootstrap.min.css">
<!-- Bootstrap CSS
		============================================ -->
<link rel="stylesheet" href="/css/font-awesome.min.css">
<!-- owl.carousel CSS
		============================================ -->
<link rel="stylesheet" href="/css/owl.carousel.css">
<link rel="stylesheet" href="/css/owl.theme.css">
<link rel="stylesheet" href="/css/owl.transitions.css">
<!-- animate CSS
		============================================ -->
<link rel="stylesheet" href="/css/animate.css">
<!-- normalize CSS
		============================================ -->
<link rel="stylesheet" href="/css/normalize.css">
<!-- meanmenu icon CSS
		============================================ -->
<link rel="stylesheet" href="/css/meanmenu.min.css">
<!-- main CSS
		============================================ -->
<link rel="stylesheet" href="/css/main.css">
<!-- educate icon CSS
		============================================ -->
<link rel="stylesheet" href="/css/educate-custon-icon.css">
<!-- morrisjs CSS
		============================================ -->
<link rel="stylesheet" href="/css/morrisjs/morris.css">
<!-- mCustomScrollbar CSS
		============================================ -->
<link rel="stylesheet"
	href="/css/scrollbar/jquery.mCustomScrollbar.min.css">
<!-- metisMenu CSS
		============================================ -->
<link rel="stylesheet" href="/css/metisMenu/metisMenu.min.css">
<link rel="stylesheet" href="/css/metisMenu/metisMenu-vertical.css">
<!-- calendar CSS
		============================================ -->
<link rel="stylesheet" href="/css/calendar/fullcalendar.min.css">
<link rel="stylesheet" href="/css/calendar/fullcalendar.print.min.css">
<!-- style CSS
		============================================ -->
<link rel="stylesheet" href="/style.css">
<!-- responsive CSS
		============================================ -->
<link rel="stylesheet" href="/css/responsive.css">
<!-- modernizr JS
		============================================ -->
<script src="/js/vendor/modernizr-2.8.3.min.js"></script>
</head>

<body>
	<!-- Start Left menu area -->
	<div class="left-sidebar-pro">
		<nav id="sidebar" class="">
			<div class="sidebar-header">
				<a href="/index.html"><img class="main-logo"
					src="/img/logo/logo.png" alt="" /></a> <strong><a
					href="/index.html"><img src="/img/logo/logosn.png" alt="" /></a></strong>
			</div>
			<div class="left-custom-menu-adp-wrap comment-scrollbar">
				<nav class="sidebar-nav left-sidebar-menu-pro">
					<ul class="metismenu" id="menu1">
						<li><a href="/index.html" aria-expanded="false"> <span
								class="educate-icon educate-home icon-wrap"></span> <span
								class="mini-click-non">홈</span>
						</a></li>
						
						 <li>
                            <a href="all-courses.html" aria-expanded="false"><span class="educate-icon educate-library icon-wrap"></span> <span class="mini-click-non">뉴스</span></a>
                        </li>
						
						<li>
                            <a class="has-arrow" href="mailbox.html" aria-expanded="false"><span class="educate-icon educate-data-table icon-wrap"></span> <span class="mini-click-non">정보</span></a>
                            <ul class="submenu-angle" aria-expanded="false">
                                <li><a title="Peity Charts" href="static-table.html"><span class="mini-sub-pro">팀정보</span></a></li>
                                <li><a title="Data Table" href="data-table.html"><span class="mini-sub-pro">선수정보</span></a></li>
                            </ul>
                        </li>
						
						<li>
                            <a class="has-arrow" href="all-students.html" aria-expanded="false"><span class="educate-icon educate-student icon-wrap"></span> <span class="mini-click-non">기록/순위</span></a>
                            <ul class="submenu-angle" aria-expanded="false">
                                <li><a title="All Students" href="all-students.html"><span class="mini-sub-pro">팀 기록</span></a></li>
                                <li><a title="Add Students" href="add-student.html"><span class="mini-sub-pro">팀 순위</span></a></li>
                                <li><a title="Edit Students" href="edit-student.html"><span class="mini-sub-pro">선수 기록</span></a></li>
                                <li><a title="Students Profile" href="student-profile.html"><span class="mini-sub-pro">선수 순위</span></a></li>
                            </ul>
                        </li>
						
						<li>
                            <a href="events.html" aria-expanded="false"><span class="educate-icon educate-event icon-wrap sub-icon-mg" aria-hidden="true"></span> <span class="mini-click-non">일정/결과</span></a>
                        </li>
						
						<li>
                            <a  href="mailbox.html" aria-expanded="false"><span class="educate-icon educate-charts icon-wrap"></span> <span class="mini-click-non">통계</span></a>
                        </li>

					</ul>
				</nav>
			</div>
		</nav>
	</div>
	<!-- End Left menu area -->
	<!-- Start Welcome area -->
	<div class="all-content-wrapper">
		<div class="container-fluid">
			<div class="row">
				<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
					<div class="logo-pro">
						<a href="index.html"><img class="main-logo"
							src="/img/logo/logo.png" alt="" /></a>
					</div>
				</div>
			</div>
		</div>
		<div class="header-advance-area">
			<div class="header-top-area">
				<div class="container-fluid">
					<div class="row">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							<div class="header-top-wraper">
								<div class="row">

									<div class="col-lg-6 col-md-7 col-sm-6 col-xs-12">
										<div class="header-top-menu tabl-d-n">
											<ul class="nav navbar-nav mai-top-nav">
												<li class="nav-item"><a href="#" class="nav-link">뉴스</a>
												</li>
												
												<li class="nav-item dropdown res-dis-nn">
                                                    <a href="#" data-toggle="dropdown" role="button" aria-expanded="false" class="nav-link dropdown-toggle">정보 <span class="angle-down-topmenu"><i class="fa fa-angle-down"></i></span></a>
                                                    <div role="menu" class="dropdown-menu animated zoomIn">
                                                        <a href="#" class="dropdown-item">팀 정보</a>
                                                        <a href="#" class="dropdown-item">선수 정보</a>
                                                    </div>
                                                </li>
												
												<li class="nav-item dropdown res-dis-nn">
                                                    <a href="#" data-toggle="dropdown" role="button" aria-expanded="false" class="nav-link dropdown-toggle">기록/순위 <span class="angle-down-topmenu"><i class="fa fa-angle-down"></i></span></a>
                                                    <div role="menu" class="dropdown-menu animated zoomIn">
                                                        <a href="#" class="dropdown-item">팀 기록</a>
                                                        <a href="#" class="dropdown-item">팀 순위</a>
                                                        <a href="#" class="dropdown-item">선수 기록</a>
                                                        <a href="#" class="dropdown-item">선수 순위</a>
                                                    </div>
                                                </li>
												<li class="nav-item"><a href="#" class="nav-link">일정/결과</a>
												
												<li class="nav-item"><a href="#" class="nav-link">통계</a>
												</li>
											</ul>
										</div>
									</div>
									<div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
										<div class="header-right-info">
											<ul class="nav navbar-nav mai-top-nav header-right-menu">
												<li class="nav-item"><a href="#" aria-expanded="false"
													class="nav-link dropdown-toggle"> <span
														class="admin-name">Prof.Anderson</span>
												</a></li>
											</ul>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- 화면에서 나오는 페이지 -->
		<div>

			<h1>기록 추가</h1>
				<div id="getGame">
					<h2>경기 추가</h2>
					<div>
						<span id="getStadium"></span>
					</div>
					<!-- hometeam 선택 -->
					<select id="getHomeTeam">
						<option>팀 선택</option>
					</select>
					
					<!-- hometeam 선수 선택 -->
					<select id="getHomeTeamPlayer">
						<option value=0>선수 선택</option>
					</select>
					
					<!-- awayteam 선택 -->
					<select id="getAwayTeam">
						<option>팀 선택</option>
					</select>
					
					<!-- awayteam 선수 선택 -->
					<select id="getAwayTeamPlayer">
						<option value=0>선수 선택</option>
					</select>
					<!-- 심판 선택 -->
					<select id="getReferee">
						<option>심판 선택</option>
					</select>
				</div>
				<br>
				<button id="gameStartBtn">경기 시작</button>
				
				<div id="addPin">
					<h2>기록 추가</h2>
					<!-- 전광판 -->
					<div>
						<table id="board" border="1">
					      <tr>
					         <td class='backslash'><div>프레임</div>이름</td>
					         <td colspan="2" style='width:60px'>1</td>
					         <td colspan="2" style='width:60px'>2</td>
					         <td colspan="2" style='width:60px'>3</td>
					         <td colspan="2" style='width:60px'>4</td>
					         <td colspan="2" style='width:60px'>5</td>
					         <td colspan="2" style='width:60px'>6</td>
					         <td colspan="2" style='width:60px'>7</td>
					         <td colspan="2" style='width:60px'>8</td>
					         <td colspan="2" style='width:60px'>9</td>
					         <td colspan="3" style='width:60px'>10</td>
					         <td id="totalScore">총 점수</td>
					      </tr>
					      <tr>
					         <td rowspan="2" id="homeTeamPlayer">이름1</td>
					         <td id="hf1t1"></td><td id="hf1t2"></td>
					         <td id="hf2t1"></td><td id="hf2t2"></td>
					         <td id="hf3t1"></td><td id="hf3t2"></td>
					         <td id="hf4t1"></td><td id="hf4t2"></td>
					         <td id="hf5t1"></td><td id="hf5t2"></td>
					         <td id="hf6t1"></td><td id="hf6t2"></td>
					         <td id="hf7t1"></td><td id="hf7t2"></td>
					         <td id="hf8t1"></td><td id="hf8t2"></td>
					         <td id="hf9t1"></td><td id="hf9t2"></td>
					         <td id="hf10t1"></td><td id="hf10t2"></td><td id="hf10t3"></td>
					         <td rowspan="2" id="homeScoreSum"></td>
					      </tr>
					      <tr>
					         <td colspan="2" class="hfs" id="hf1s"></td>
					         <td colspan="2" class="hfs" id="hf2s"></td>
					         <td colspan="2" class="hfs" id="hf3s"></td>
					         <td colspan="2" class="hfs" id="hf4s"></td>
					         <td colspan="2" class="hfs" id="hf5s"></td>
					         <td colspan="2" class="hfs" id="hf6s"></td>
					         <td colspan="2" class="hfs" id="hf7s"></td>
					         <td colspan="2" class="hfs" id="hf8s"></td>
					         <td colspan="2" class="hfs" id="hf9s"></td>
					         <td colspan="3" class="hfs" id="hf10s"></td>
					      </tr>
					      <tr>
					         <td rowspan="2" id="awayTeamPlayer">이름2</td>
					         <td id="af1t1"></td><td id="af1t2"></td>
					         <td id="af2t1"></td><td id="af2t2"></td>
					         <td id="af3t1"></td><td id="af3t2"></td>
					         <td id="af4t1"></td><td id="af4t2"></td>
					         <td id="af5t1"></td><td id="af5t2"></td>
					         <td id="af6t1"></td><td id="af6t2"></td>
					         <td id="af7t1"></td><td id="af7t2"></td>
					         <td id="af8t1"></td><td id="af8t2"></td>
					         <td id="af9t1"></td><td id="af9t2"></td>
					         <td id="af10t1"></td><td id="af10t2"></td><td id="af10t3"></td>
					         <td rowspan="2" id="awayScoreSum"></td>
					      </tr>
					      <tr>
					         <td colspan="2" class="afs" id="af1s"></td>
					         <td colspan="2" class="afs" id="af2s"></td>
					         <td colspan="2" class="afs" id="af3s"></td>
					         <td colspan="2" class="afs" id="af4s"></td>
					         <td colspan="2" class="afs" id="af5s"></td>
					         <td colspan="2" class="afs" id="af6s"></td>
					         <td colspan="2" class="afs" id="af7s"></td>
					         <td colspan="2" class="afs" id="af8s"></td>
					         <td colspan="2" class="afs" id="af9s"></td>
					         <td colspan="3" class="afs" id="af10s"></td>
					      </tr>
					   </table>
					</div>
					<br>
					<table border="1">
					<!-- addReport폼 생성, Check 박스 생성 -->
						<tr>
							<td>1<input class="pinCheck" type="checkbox" value="0"></td>
							<td>2<input class="pinCheck" type="checkbox" value="1"></td>
							<td>3<input class="pinCheck" type="checkbox" value="2"></td>
							<td>4<input class="pinCheck" type="checkbox" value="3"></td>
							<td>5<input class="pinCheck" type="checkbox" value="4"></td>
							<td>6<input class="pinCheck" type="checkbox" value="5"></td>
							<td>7<input class="pinCheck" type="checkbox" value="6"></td>
							<td>8<input class="pinCheck" type="checkbox" value="7"></td>
							<td>9<input class="pinCheck" type="checkbox" value="8"></td>
							<td>10<input class="pinCheck" type="checkbox" value="9"></td>
						</tr>
					</table>
					<br>
					<button type="button" id="addPinBtn">쓰러진 핀 입력</button>
					<div>
						<br>
						<button type="button" id="strikeBtn">스트라이크</button>
						<button type="button" id="resetBtn">초기화</button>
					</div>
				</div>
		</div>

		<div class="footer-copyright-area">
			<div class="container-fluid">
				<div class="row">
					<div class="col-lg-12">
						<div class="footer-copy-right">
							<p>
								Copyright © 2018. All rights reserved. Template by <a
									href="https://colorlib.com/wp/templates/">Colorlib</a>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- jquery
		============================================ -->
	<script src="/js/vendor/jquery-1.12.4.min.js"></script>
	<!-- bootstrap JS
		============================================ -->
	<script src="/js/bootstrap.min.js"></script>
	<!-- wow JS
		============================================ -->
	<script src="/js/wow.min.js"></script>
	<!-- price-slider JS
		============================================ -->
	<script src="/js/jquery-price-slider.js"></script>
	<!-- meanmenu JS
		============================================ -->
	<script src="/js/jquery.meanmenu.js"></script>
	<!-- owl.carousel JS
		============================================ -->
	<script src="/js/owl.carousel.min.js"></script>
	<!-- sticky JS
		============================================ -->
	<script src="/js/jquery.sticky.js"></script>
	<!-- scrollUp JS
		============================================ -->
	<script src="/js/jquery.scrollUp.min.js"></script>
	<!-- counterup JS
		============================================ -->
	<script src="/js/counterup/jquery.counterup.min.js"></script>
	<script src="/js/counterup/waypoints.min.js"></script>
	<script src="/js/counterup/counterup-active.js"></script>
	<!-- mCustomScrollbar JS
		============================================ -->
	<script src="/js/scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
	<script src="/js/scrollbar/mCustomScrollbar-active.js"></script>
	<!-- metisMenu JS
		============================================ -->
	<script src="/js/metisMenu/metisMenu.min.js"></script>
	<script src="/js/metisMenu/metisMenu-active.js"></script>
	<!-- morrisjs JS
		============================================ -->
	<script src="/js/morrisjs/raphael-min.js"></script>
	<script src="/js/morrisjs/morris.js"></script>
	<script src="/js/morrisjs/morris-active.js"></script>
	<!-- morrisjs JS
		============================================ -->
	<script src="/js/sparkline/jquery.sparkline.min.js"></script>
	<script src="/js/sparkline/jquery.charts-sparkline.js"></script>
	<script src="/js/sparkline/sparkline-active.js"></script>
	<!-- calendar JS
		============================================ -->
	<script src="/js/calendar/moment.min.js"></script>
	<script src="/js/calendar/fullcalendar.min.js"></script>
	<script src="/js/calendar/fullcalendar-active.js"></script>
	<!-- plugins JS
		============================================ -->
	<script src="/js/plugins.js"></script>
	<!-- main JS
		============================================ -->
	<script src="/js/main.js"></script>

</body>

<script>
	$(document).ready(function(){
		
		// 변수 생성
		let game = {
			// pin : 볼링 핀의 배열 초기값은 0으로 설정 
			pin : [0,0,0,0,0,0,0,0,0,0],
			// pinSum : 쓰러트린 핀의 갯수의 합
			pinSum : 0,
			// turn : 해당선수의 회차
			turn : 1,
			// frame : 해당선수의 프레임
			frame : 1,
			// player : 선수의 차례를 구분하기위한 변수
			// player의 값이 1 : awayTeamPlayer
			// player의 값이 2 : homeTeamPlayer
			player : 1,
			// game_no 해당 경기의 인덱스값
			gameNo : 0
		};
		
		// 경기 시작 전 데이터 입력 폼 비활성화
		//$("#addPin").hide();

		// game 테이블에 경기 데이터를 입력하기 위해 데이터 출력하는 함수 실행
		setGame();
		
		// 경기 시작 버튼 클릭시 경기의 데이터를 기록할 수 있다
		$("#gameStartBtn").on("click",function(){
			// 팀과 선수, 심판을 선택하지않고 게임을 시작할 수 없고, 게임을 강제로 시작할시 경고 메세지 출력
			if($("#getHomeTeamPlayer").val() != 0 && $("#getAwayTeamPlayer").val() != 0 && $("#getReferee").val() != 0){
				$("#gameStartBtn").hide(); // 게임 시작 버튼 숨김
				$("#getGame").hide(); // 팀과 선수와 심판을 선택하는 폼 숨김
				$("#addPin").show(); // 경기의 데이터를 기록하는 현황판과 폼 숨김 해제
				
				// ### 경기 기록 ######################################################################################################################
				// game 테이블에 경기를 저장 후 해당 경기의 인덱스값인 game_no를 생성한 객체에 저장
				$.ajax({
					url:"/addGame",
					method:"POST",
					data:{"hteamName":$("#getHomeTeam").val(),
						  "stadiumName":$("#getStadium").text(),
						  "ateamName":$("#getAwayTeam").val(),
						  "hplayerNo":$("#getHomeTeamPlayer").val(),
						  "aplayerNo":$("#getAwayTeamPlayer").val()
						 },
					success:function(json){
						console.log("경기 시작 !");
						game.gameNo = json.gameNo;
						// console.log("gameNo : ", gameNo);
						
						// game_referee 테이블에 해당 경기의 심판의 데이터를 저장
						$.ajax({
							url:"/addReferee",
							method:"POST",
							data:{"gameNo":game.gameNo,
								  "refereeNo":$("#getReferee option:checked").val()	
								 },
							success:function(){
								// console.log("add game_referee success!");
							}
						});
					}
				});
				
				// ### 홈 팀 구장 가져오기 ######################################################################################################################
			}else{
				alert("정보를 제대로 입력해주세요!");
			}
		});
		
		// 스트라이크 버튼 클릭시
		$("#strikeBtn").on("click",function(){
			//console.log("버튼 클릭");
			$(".pinCheck").each(function() {
				if($(this).is("[disabled]") == false) {
					//console.log("체크1")
					$(this).prop("checked", true);
				}
			});
		});
		
		// 초기화 버튼 클릭시
		$("#resetBtn").on("click",function(){
			$(".pinCheck").prop("checked", false);
		});
		
// ### 핀 입력 ############################################################################################################
		// 쓰러진 핀 입력 버튼 클릭시
		$("#addPinBtn").on("click",function(){
			// console.log("버튼클릭");
			
			// 체크한 핀을 pin 배열의 값 저장하는 함수 실행
			game.pin = setPinArray(game.pin);
			// console.log("pin : ", game.pin);
			
			// 선수의 데이터를 기록하는 함수
			game = addReport(game);
			
			/*
			console.log("frame : ", game.frame);
			console.log("turn : ", game.turn);
			console.log("player : ", game.player);
			console.log("pinSum : ", game.pinSum);
			*/
		});
// ### 핀 입력 ############################################################################################################		
	});
</script>

</html>